<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        .map-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .map-container img {
            max-width: 30%;
            height: auto;
            display: none; /* Domyślnie ukryte */
        }
        .map-container img.active {
            display: block; /* Pokazanie aktywnej mapy */
        }
        .button-container {
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>Robot Map</h1>
    <div class="map-container">
        <img id="map1" src="robot_map.png" alt="Robot Map" class="active">
        <img id="map2" src="output_map.png" alt="Output Map">
        <img id="map3" src="path_visualization.png" alt="Path Visualization">
    </div>
    <div class="button-container">
        <button onclick="prevMap()">Previous Map</button>
        <button onclick="nextMap()">Next Map</button>
    </div>
    <script>
        const maps = ['map1', 'map2', 'map3'];
        let currentMapIndex = 0;

        function updateMapVisibility() {
            maps.forEach((mapId, index) => {
                const mapElement = document.getElementById(mapId);
                if (index === currentMapIndex) {
                    mapElement.classList.add('active');
                } else {
                    mapElement.classList.remove('active');
                }
            });
        }

        function prevMap() {
            currentMapIndex = (currentMapIndex - 1 + maps.length) % maps.length;
            updateMapVisibility();
        }

        function nextMap() {
            currentMapIndex = (currentMapIndex + 1) % maps.length;
            updateMapVisibility();
        }

        function refreshImage() {
            maps.forEach((mapId) => {
                const img = document.getElementById(mapId);
                const timestamp = new Date().getTime(); // Pobierz aktualny czas w milisekundach
                img.src = `${mapId}.png?${timestamp}`; // Dodaj znacznik czasu do URL
            });
        }

        // Ustaw interwał odświeżania co 1 sekundę (1000 ms)
        setInterval(refreshImage, 1000);

        // Inicjalna konfiguracja map
        updateMapVisibility();
    </script>
</body>
</html>
